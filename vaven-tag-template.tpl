___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "vaven-tag-template",
  "categories": ["ADVERTISING"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "Vaven tag allows you to set up a Vaven widgets on your website.  For additional information about this service, see vaven.co.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "pageId",
    "displayName": "Vaven Page ID",
    "simpleValueType": true,
    "valueHint": "9d1376e1b29341a1aea770a4b750c85a",
    "valueValidators": [
      {
        "type": "STRING_LENGTH",
        "args": [
          32,
          32
        ]
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const injectScript = require('injectScript');
const encodeUriComponent = require('encodeUriComponent');

const pageId = data.pageId;
const url = 'https://my.vaven.co/loader.js?id=' + encodeUriComponent(pageId);

injectScript(url, data.gtmOnSuccess, data.gtmOnFailure);


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://my.vaven.co/loader.js?*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Untitled test 1
  code: |-
    const mockData = {
      pageId: 'c79c0166cb5b4994b6aacff31e54e138'
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 6/3/2022, 10:05:52 AM


